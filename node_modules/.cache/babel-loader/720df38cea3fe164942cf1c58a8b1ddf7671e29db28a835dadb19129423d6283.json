{"ast":null,"code":"var _jsxFileName = \"/Users/dimitar/Documents/projects/my_project/upload_article/src/ListTodos/ListTodos.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport EditTodo from \"../components/EditTodo\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchTodo } from \"../store/todoSlice/todoSlice\";\nimport getTodo from \"../configuration/ api-endpoints\";\nimport \"./list.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListTodos = () => {\n  _s();\n  //? properties\n  let todosData = [];\n  let err = \"\";\n  let content;\n  const dispatch = useDispatch();\n  const status = useSelector(state => state.todo.status);\n  const [file, setFile] = useState();\n  const error = useSelector(state => state.todo.error);\n  useEffect(() => {\n    getTodos();\n  }, [dispatch]);\n  const data = useSelector(state => {\n    todosData = state.todo;\n  });\n\n  //delete todo function\n\n  const deleteTodo = async id => {\n    console.log(\"pesho\");\n    try {\n      const deleteTodo = await fetch(`${getTodo.DELETE_ALL_TODOS}/${id}`, {\n        method: \"DELETE\"\n      });\n      console.log(\"pesho\", deleteTodo);\n    } catch (err) {\n      console.error(\"err\", err);\n    }\n  };\n  const getTodos = () => {\n    if (status === \"idle\") {\n      dispatch(fetchTodo());\n    } else if (status === \"loading\") {\n      content = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this);\n    } else if (status === \"succeeded\") {\n      console.log(\"pesho\", todosData);\n    } else if (status === \"failed\") {\n      content = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this);\n    } else {\n      console.log(\"peshoDARTA\", status, data);\n    }\n  };\n\n  //TODO трябва да се оправи async заявките да се изчака отговора че са получени данните преди да се заредят в data.data.map\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: todosData.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Loading........\", err]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 30\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table mt-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: todosData.data.map((todo, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: todo.description.substring(0, 50)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(EditTodo, {\n                todo: todo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: todo.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: todo.currentTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: () => deleteTodo(todo.todo_id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 20\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(ListTodos, \"sEv5Hmq2wOFbeQ5A3VaPx4howrw=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = ListTodos;\nexport default ListTodos;\nvar _c;\n$RefreshReg$(_c, \"ListTodos\");","map":{"version":3,"names":["React","useEffect","useState","EditTodo","useDispatch","useSelector","fetchTodo","getTodo","jsxDEV","_jsxDEV","ListTodos","_s","todosData","err","content","dispatch","status","state","todo","file","setFile","error","getTodos","data","deleteTodo","id","console","log","fetch","DELETE_ALL_TODOS","method","children","fileName","_jsxFileName","lineNumber","columnNumber","isLoading","className","map","index","description","substring","date","currentTime","onClick","todo_id","_c","$RefreshReg$"],"sources":["/Users/dimitar/Documents/projects/my_project/upload_article/src/ListTodos/ListTodos.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport EditTodo from \"../components/EditTodo\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchTodo} from \"../store/todoSlice/todoSlice\";\nimport getTodo from \"../configuration/ api-endpoints\";\nimport \"./list.scss\";\n\nconst ListTodos = () => {\n  //? properties\n  let todosData = [];\n  let err = \"\";\n  let content;\n  const dispatch = useDispatch();\n  const status = useSelector((state) => state.todo.status);\n  const [file, setFile] = useState();\n  const error = useSelector((state) => state.todo.error);\n  useEffect(() => {\n    getTodos();\n  }, [dispatch]);\n  const data = useSelector((state) => {\n    todosData = state.todo;\n  });\n\n  //delete todo function\n\n  const deleteTodo = async id => {\n    console.log(\"pesho\",);\n    try {\n      const deleteTodo = await fetch(`${getTodo.DELETE_ALL_TODOS}/${id}`, {\n        method: \"DELETE\"\n      });\n      console.log(\"pesho\", deleteTodo);\n    } catch (err) {\n      console.error(\"err\", err);\n    }\n  };\n\n  const getTodos = () => {\n    if (status === \"idle\") {\n      dispatch(fetchTodo());\n    } else if (status === \"loading\") {\n      content = <div>Loading...</div>;\n    } else if (status === \"succeeded\") {\n      console.log(\"pesho\", todosData);\n    } else if (status === \"failed\") {\n      content = <div>{error}</div>;\n    } else {\n      console.log(\"peshoDARTA\", status, data);\n    }\n  };\n\n\n  //TODO трябва да се оправи async заявките да се изчака отговора че са получени данните преди да се заредят в data.data.map\n\n  return (\n    <div>\n      {todosData.isLoading ? <div><h1>Loading........{err}</h1></div> :\n        <table className=\"table mt-5 text-center\">\n          <thead>\n          <tr>\n            <th>Description</th>\n            <th>Edit</th>\n            <th>Date</th>\n            <th>Time</th>\n            <th>Upload</th>\n            <th>Delete</th>\n          </tr>\n          </thead>\n          <tbody>\n          {todosData.data.map((todo, index) => {\n            return <tr key={index}>\n              <td>{todo.description.substring(0, 50)}</td>\n              <td>\n                <EditTodo todo={todo}/>\n              </td>\n              <td>{todo.date}</td>\n              <td>{todo.currentTime}</td>\n              <td>\n                {/*<form method=\"POST\" className=\"upload-img\" action=\"/upload\"*/}\n                {/*      encType=\"multipart/form-data\" type=\"file\" name=\"'file\">*/}\n                {/*  <div>*/}\n                {/*    <label>Upload profile picture</label>*/}\n                {/*    <input type=\"file\" name=\"profile-file\" required/>*/}\n                {/*  </div>*/}\n                {/*  <div>*/}\n                {/*    <input type=\"submit\" value=\"Upload\" onClick={upload}/>*/}\n                {/*  </div>*/}\n                {/*</form>*/}\n              </td>\n              <td>\n                <button\n                  className=\"btn btn-danger\"\n                  onClick={() => deleteTodo(todo.todo_id)}\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>;\n          })}\n          </tbody>\n        </table>\n      }\n    </div>);\n};\n\nexport default ListTodos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}